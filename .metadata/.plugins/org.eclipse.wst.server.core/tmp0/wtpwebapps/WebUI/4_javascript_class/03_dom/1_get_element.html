<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>DOM에서 노드 검색 방법</title>
<script type="text/javascript">

  window.onload = function () {
	  
	  document.getElementById('btn').onclick = function(){ //btn 변수명 생략한 코딩
			
	// 1. ID값으로 노드 얻어오기
		/*
		var name = document.getElementById('cname');
		var result = document.getElementById('result');
		result.innerHTML = '안녕, ' + name.value;
		*/
	
	// 2. 클래스명으로 노드 얻어오기
		/*	
		var b = document.getElementsByClassName('cname'); // class명은 중복이 된다. 그래서 elements이며 여러게 가져오면 var b는 배열의 형태를 받음
		var result = document.getElementById('result');
		result.innerHTML = '안녕2, ' + b[0].value; //배열 형태로 받기때문에 b.value;가 아니라  b[i].value;로 해야한다.
		*/
	// 3. 태그명으로 노드 얻어오기 
		/*
		var c = document.getElementsByTagName('input');
		for(var i=0; i<c.length; i++){
			if(c[i].type == 'text' && c[i].value == ''){
				alert(c[i].name + '필수항복입니다.');
				return;
			}
		}
		*/
	
		// 4. 현재위치에서 상대적인 관계로 노드 얻어오기
			
			var d = document.getElementById('label');
			var children = d.childNodes;
			for(var i=0; i<children.length; i++){
				if(children[i].nodeType == 1 && children[i].value == ''){ //nodeType == 1 tag가 있는 자식들만 골라냄
					alert(children[i].name + '필수항복입니다.')
					return;
				}
			} 
			
		
		/* nodeType 프로퍼티의 반환값
			1 -	요소 노드
			2 - 속성 노드
			3 - 텍스트 노드
			4 - CDATA 섹션
			5 - 실제참조 노드
			6 - 셀제선언 노드
			7 - 처리명령 노드
			8 - 코멘트 노드
			9 - 문서 노드
			10 - 문서형선언 노드
			11 - 문서의 단편 (fragment)
			12 - 기법선언 노드
		*/
		
		// 5. DOM 구조는 아니지만 폼의 요소를 찾는 방법
			//아이디: #, 클래스: .
			var name = document.querySelector('.cname'); // name이라는 id값을 찾아옴
				//여러개일 경우 querySelectorAll(); 
			var result = document.querySelector('#result'); // result라는 id값을 찾아옴
			result.innerHTML = '<a href="https://daum.net">' + name.value + '</a>';
		
		
	}
  }
  </script>
</head>

<body>
	<!-- 1 -->
	<form name="fm">
		<div id='label'>
		 이름 : <input type="text" id="name" 	class="cname" name="name" size="15" />
		 학과 : <input	type="text" id="dept" name="dept" size="15" /> 
		 학교 : <input 	type="text" id="univ" name="univ" size="15" />
		</div>
		<input id="btn" type="button" value="버튼" />
		<div id="result"></div>
	</form>
</body>
</html>
