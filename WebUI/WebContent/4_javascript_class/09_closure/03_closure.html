<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<script type="text/javascript">
//----------------------------------------------------------
// 4. 지역변수를 참조하는 함수 안에 함수 클로저(closure)		
//			전역변수는 특정 함수 몇 개만 공유하지 못하고 전체가 공유하는 변수이다.
//			클로저는 특정 함수가 암묵적으로 다른 함수의 참조를 가지고 있기 때문에
//			호출되는 함수가 참조하는 함수의 메모리 공간을 참조한다. (?)
//			아무튼 클로저를 이용하여 전역변수의 사용을 줄일 수 있다


function add(a,b,callbackfunc){
	var result = a+b;
	callbackfunc(result);// callback 함수 다시 아래의 function(re)를 호출한다.
	var count = 0;
	return function(){
		count++;
		return count + "호출";
	};
}

var reVar = add(10, 20, function(re){
	document.write('결과는 ' + re + '입니다.<br/>');
});

// document.write( reVar + '<br/>');
document.write('리턴받은 함수 결과: ' + reVar() + '<br/>'); // return이 함수형이니 나도 함수형으로 받을 준비를 하겠다. reVar()
document.write('리턴받은 함수 결과: ' + reVar() + '<br/>');
document.write('리턴받은 함수 결과: ' + reVar() + '<br/>');




</script>
</head>
<body>

</body>
</html>